- 内部类可以直接访问外部类的私有数据，而外部类不能访问内部类的数据
- 内部类可比外部类多用三个修饰符： private、protected、static，外部类不可以使用这三个修饰符
- 非静态内部类不能有静态成员
- 内部类可以定义在类中，即成员内部类，也可以定义在类的方法中，即局部内部类

## 一、非静态成员类
成员内部类（包括静态内部类、非静态内部类）的 calss 文件为：OuterClass$Class.class

内部类可以访问外部类的成员，是因为非静态内部类中保存着外部类对象的引用

当非静态内部类和外部类的变量重名时，访问外部类的变量：

```
// 使用 外部类类名.this.变量 来访问外部类变量
// 访问重名变量时，默认优先访问内部类的
OuterClass.this.parameter
```

## 二、静态成员类
静态内部类可以包含静态成员，也可以包含非静态成员

静态成员不可访问非静态成员，即静态内部类不可访问外部类的实例成员，只能访问类成员
> 理解为内部类对象存有外部类对象的引用，该引用只能访问实例变量

也可在接口中定义内部类，且默认为 public private 修饰，即静态内部类。实际开发很少用这种方法



#### 在外部类以外使用静态内部类
静态内部类时类相关的，因此调用内部类直接通过类来执行而不需要通过外部类实例

```Java
// 创建静态内部类实例
OuterClass.InnerClass varName = new OuterClass().new InnerClass();
```

**总的来说，可以把外部类当作一个包空间来理解**

## 三、局部内部类

所有局部成员都不能用 static或访问控制符修饰，其作用域只在其所在方法，其他程序单元不能访问方法的局部成员

## 四、匿名内部类
- 适用于创建只需一次使用的类，减少类的创建，但也只能使用一次，也就是只能创建一个对象，而对象可以使用多次
- 匿名内部类必须继承一个父类或实现一个接口，且必须全部实现
- 匿名内部类不能定义构造器，但可以定义初始化块实现相同功能

匿名对象只能使用一次类中的方法
```Java
// 定义匿名内部类
接口名称 匿名内部类名称 = new 接口名称() | 父类名称(实参列表){
    ...
}；

// 匿名对象
new 接口名称() | 父类名称(实参列表){
    ...
}.method();
```

匿名内部类调用成员变量，Java8 之前该成员变量必须使用 final 修饰，Java8 之后不需显式说明，系统会自动加上 final 修饰。即表明该变量不可重新赋值

**最常用创建匿名内部类的方式是创建某个接口类型的对象**


## 五、使用内部类
#### 1、间接：在外部类方法中调用内部类

方法与常规一样，但不能在静态成员中使用非静态内部类

#### 2、直接：创建内部类对象

此时内部类不能用 private 修饰


修饰符 |访问范围
---|---
default | 同一个包中的其他类访问
protected | 同一个包的其他类和外部类的子类访问
public | 在任何地方被访问


```Java
// 在外部类以外定义内部类变量
OuterClass.InnerClass varName
// 在外部类以外定义内部类实例
OuterClass.InnerClass varName = new OuterClass().new InnerClass();
```

非静态内部类的构造器必须使用外部类对象来调用。

大体上，内部类可以当作正常的外部类使用，可被继承也可以调用，但必须通过一个外部类实例来调用

#### 3、内外部类重名变量的访问
在内部类中，优先访问内部类的重名变量，再访问外部类的

在内部类中访问内部类的重名变量：this.varName
在内部类中访问外部类的重名变量：OuterClass.this.varName