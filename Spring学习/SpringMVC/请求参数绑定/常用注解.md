## 常用注解

#### @RequestParam

- 实现请求参数对方法参数的名称映射（当请求参数与方法参数不一致而无法自动绑定时）
- value属性：表示此名称请求参数与该方法参数自动绑定
- required属性：是否必须要有该名称的请求参数，默认为true

```java
@RequestMapping(path = "/login")
    public String saveUser(@RequestParam(value="user", required=false) User user, HttpServlet request) {
        System.out.println(user);
        return "home";
    }
```

#### @RequestBody

- 自动绑定将请求体内容绑定到方法参数中，用在方法参数前

```java
@RequestMapping(path = "/login")
    public String saveUser(@RequestBody String body, User user) {
        System.out.println(user);
        return "home";
    }
```

#### @PathVariable

- 获取绑定URL中的占位符内容，用在方法参数前
- value属性指定URL中的占位符名称
- 涉及restful风格的编程，更易于缓存

```java
@RequestMapping(path = "/login/{uid}")
    public String saveUser(@PathVariable(value="uid") String id, User suer) {
        System.out.println(user);
        return "home";
    }
```

#### @RequestHeader

- 获取请求消息头，用在方法参数前
- value属性：获取指定名称的请求消息头

#### @CookieValue

- 获取cookie，用在方法参数前
- value属性：获取指定名称的cookie
- required属性：是否必须要有该名称的cookie

#### @ModelAttribute

- 可以用在方法/参数上
- 用于方法上：表示该方法会在控制器的方法执行前先执行，可以用于做请求参数的预处理
- 用于参数上：其value值即会从一个Map集合中取出对应key的请求参数值，并进行自动绑定

```java
@RequestMapping(path = "/login")
public String saveUser(@ModelAttribute(value = "user") User user) {
    System.out.println(user);
    return "success";
}

@ModelAttribute
public void dataPretreatment(User user, Map<String, User> map) {
    System.out.println(user);
    map.put("user", user);
}
```

#### @SessionAttribution(vaue={""})

- value属性表示共享数据的key
- 用于多次执行控制器方法间的参数共享，用在类名前
- 添加共享数据：在方法中使用Model对象参数，使用model.addAttribute("key", "value")
- 获取共享数据：在方法中使用ModelMap对象参数，使用modelMap.get("key")

Model是接口，ModelMap是实现Model的 类

```java
// 设置session域的共享数据
@SessionAttribute(value={"user"})
public void User {
    @RequestMapping(path = "/login")
    public String saveUser(User user, Model model) {
        // 存入共享数据
        model.addAttribute("user", user);
        System.out.println(user);
        return "home";
    }

    @RequestMapping(path = "/home")
    public void dataPretreatmentM(ModelMap modelMap) {
        // 获取共享数据
        User user = modelMap.get("user");
        map.put("user", user);
    }
}
```



